/* Print-specific styles */
@media print {
    * {
        -webkit-print-color-adjust: exact !important;
        color-adjust: exact !important;
    }

    body {
        margin: 0;
        padding: 0;
        background: white !important;
        font-size: 12pt;
        line-height: 1.4;
    }

    .page {
        page-break-after: always;
        margin: 0;
        padding: 0.5in;
        box-shadow: none !important;
        border: none !important;
        height: auto !important;
        min-height: 10in !important;
    }

    .page:last-child {
        page-break-after: avoid;
    }

    /* Hide UI elements that shouldn't print */
    .no-print,
    .btn-primary,
    .btn-secondary,
    .customization-panel,
    .preview-controls,
    .template-selection,
    .main-header,
    .main-footer {
        display: none !important;
    }

    /* Ensure proper page breaks */
    .page-break {
        page-break-before: always;
    }

    .page-break-after {
        page-break-after: always;
    }

    .page-break-inside {
        page-break-inside: avoid;
    }

    /* Optimize text for printing */
    h1, h2, h3, h4, h5, h6 {
        page-break-after: avoid;
        orphans: 3;
        widows: 3;
    }

    p, li, div {
        orphans: 3;
        widows: 3;
    }

    /* Table printing optimizations */
    table {
        page-break-inside: avoid;
    }

    tr {
        page-break-inside: avoid;
        page-break-after: auto;
    }

    thead {
        display: table-header-group;
    }

    tfoot {
        display: table-footer-group;
    }

    /* Image optimizations */
    img {
        max-width: 100% !important;
        height: auto !important;
    }

    /* Link styling for print */
    a {
        text-decoration: underline;
        color: black;
    }

    a[href^="http"]:after {
        content: " (" attr(href) ")";
        font-size: 90%;
    }

    a[href^="#"]:after {
        content: "";
    }

    /* Form elements - hide or style appropriately */
    input, select, textarea, button {
        border: 1px solid #000 !important;
        background: white !important;
        color: black !important;
    }

    /* Notebook specific print styles */
    .notebook-ruled .page,
    .notebook-dotted .page,
    .notebook-blank .page {
        background-attachment: local;
    }

    /* Journal specific print styles */
    .journal-dated .page,
    .journal-undated .page {
        background-attachment: local;
    }

    /* Planner specific print styles */
    .planner-weekly .page,
    .planner-monthly .page {
        background: white;
    }

    .month-calendar {
        page-break-inside: avoid;
    }

    .month-calendar td {
        page-break-inside: avoid;
    }

    /* High resolution printing */
    @media print and (min-resolution: 300dpi) {
        body {
            font-size: 11pt;
        }

        .page {
            padding: 0.4in;
        }
    }

    /* Color printing optimizations */
    @media print and (color) {
        .theme-minimalist {
            --primary-color: #000;
            --secondary-color: #333;
        }

        .theme-floral {
            --primary-color: #666;
            --secondary-color: #999;
        }

        .theme-geometric {
            --primary-color: #000;
            --secondary-color: #666;
        }

        .theme-vintage {
            --primary-color: #333;
            --secondary-color: #666;
        }

        .theme-modern {
            --primary-color: #000;
            --secondary-color: #666;
        }
    }

    /* Grayscale printing */
    @media print and (monochrome) {
        .theme-floral,
        .theme-geometric,
        .theme-vintage,
        .theme-modern {
            --primary-color: #000;
            --secondary-color: #666;
            --accent-color: #999;
        }

        .template-card {
            background: white !important;
            border: 1px solid #000 !important;
        }
    }

    /* Duplex printing support */
    @page :left {
        margin-left: 0.75in;
        margin-right: 0.5in;
    }

    @page :right {
        margin-left: 0.5in;
        margin-right: 0.75in;
    }

    @page :first {
        margin-top: 1in;
    }
}

/* Print preview styles for screen */
@media screen and (max-width: 768px) {
    .preview-container iframe {
        height: 500px;
    }
}

/* Print button styling */
@media screen {
    .print-btn {
        background: #27ae60;
        color: white;
    }

    .print-btn:hover {
        background: #229954;
    }
}