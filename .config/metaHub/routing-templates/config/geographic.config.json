{
  "_metadata": {
    "version": "1.0.0",
    "description": "TRAE Geographic Configuration and Data Sovereignty Template",
    "lastUpdated": "2025-11-22",
    "frameworkAgnostic": true,
    "complianceReady": ["HIPAA", "GDPR", "SOC2", "PCI_DSS"],
    "focus": "Geographic failover and data sovereignty"
  },

  "regions": {
    "north_america": {
      "name": "North America",
      "countries": ["US", "CA", "MX"],
      "timezone": "America/New_York",
      "primaryProviders": ["openai", "anthropic", "gemini"],
      "backupProviders": ["mistral", "openrouter"],
      "dataSovereignty": {
        "dataLocalizationRequired": false,
        "sovereignDataCenters": true,
        "crossBorderAllowed": true
      },
      "compliance": {
        "HIPAA": true,
        "GDPR": false,
        "SOC2": true,
        "PCI_DSS": true
      },
      "performance": {
        "averageLatency": 50,
        "reliability": 0.99,
        "peakHours": "09:00-17:00"
      }
    },
    "europe": {
      "name": "Europe",
      "countries": ["GB", "DE", "FR", "NL", "SE", "CH"],
      "timezone": "Europe/London",
      "primaryProviders": ["openai", "anthropic", "mistral"],
      "backupProviders": ["gemini", "openrouter"],
      "dataSovereignty": {
        "dataLocalizationRequired": true,
        "sovereignDataCenters": true,
        "crossBorderAllowed": false,
        "gdprCompliantOnly": true
      },
      "compliance": {
        "HIPAA": false,
        "GDPR": true,
        "SOC2": true,
        "PCI_DSS": true
      },
      "performance": {
        "averageLatency": 100,
        "reliability": 0.98,
        "peakHours": "08:00-18:00"
      }
    },
    "asia_pacific": {
      "name": "Asia Pacific",
      "countries": ["JP", "SG", "AU", "KR", "IN"],
      "timezone": "Asia/Tokyo",
      "primaryProviders": ["gemini", "openai"],
      "backupProviders": ["anthropic", "openrouter"],
      "dataSovereignty": {
        "dataLocalizationRequired": false,
        "sovereignDataCenters": true,
        "crossBorderAllowed": true
      },
      "compliance": {
        "HIPAA": false,
        "GDPR": false,
        "SOC2": true,
        "PCI_DSS": true
      },
      "performance": {
        "averageLatency": 200,
        "reliability": 0.97,
        "peakHours": "01:00-11:00"
      }
    },
    "south_america": {
      "name": "South America",
      "countries": ["BR", "AR", "CL", "CO"],
      "timezone": "America/Sao_Paulo",
      "primaryProviders": ["openai", "anthropic"],
      "backupProviders": ["gemini", "openrouter"],
      "dataSovereignty": {
        "dataLocalizationRequired": false,
        "sovereignDataCenters": false,
        "crossBorderAllowed": true
      },
      "compliance": {
        "HIPAA": false,
        "GDPR": false,
        "SOC2": false,
        "PCI_DSS": false
      },
      "performance": {
        "averageLatency": 150,
        "reliability": 0.95,
        "peakHours": "08:00-18:00"
      }
    },
    "africa": {
      "name": "Africa",
      "countries": ["ZA", "NG", "EG", "KE"],
      "timezone": "Africa/Johannesburg",
      "primaryProviders": ["openai", "gemini"],
      "backupProviders": ["openrouter"],
      "dataSovereignty": {
        "dataLocalizationRequired": false,
        "sovereignDataCenters": false,
        "crossBorderAllowed": true
      },
      "compliance": {
        "HIPAA": false,
        "GDPR": false,
        "SOC2": false,
        "PCI_DSS": false
      },
      "performance": {
        "averageLatency": 250,
        "reliability": 0.9,
        "peakHours": "08:00-17:00"
      }
    },
    "global": {
      "name": "Global",
      "countries": ["*"],
      "timezone": "UTC",
      "primaryProviders": ["openrouter", "together"],
      "backupProviders": ["local"],
      "dataSovereignty": {
        "dataLocalizationRequired": false,
        "sovereignDataCenters": false,
        "crossBorderAllowed": true
      },
      "compliance": {
        "HIPAA": false,
        "GDPR": false,
        "SOC2": false,
        "PCI_DSS": false
      },
      "performance": {
        "averageLatency": 100,
        "reliability": 0.95,
        "peakHours": "variable"
      }
    }
  },

  "fallbackChains": {
    "north_america": {
      "primary": "north_america",
      "fallbacks": [
        {
          "region": "europe",
          "priority": 1,
          "latencyThreshold": 1000,
          "costMultiplier": 1.5,
          "compliancePriority": true,
          "conditions": ["primary_unhealthy", "high_latency"]
        },
        {
          "region": "asia_pacific",
          "priority": 2,
          "latencyThreshold": 1500,
          "costMultiplier": 2.0,
          "compliancePriority": false,
          "conditions": ["all_previous_failed"]
        }
      ]
    },
    "europe": {
      "primary": "europe",
      "fallbacks": [
        {
          "region": "north_america",
          "priority": 1,
          "latencyThreshold": 1000,
          "costMultiplier": 1.5,
          "compliancePriority": true,
          "conditions": ["primary_unhealthy", "gdpr_compliance"]
        },
        {
          "region": "asia_pacific",
          "priority": 2,
          "latencyThreshold": 1500,
          "costMultiplier": 2.0,
          "compliancePriority": false,
          "conditions": ["all_previous_failed"]
        }
      ]
    },
    "asia_pacific": {
      "primary": "asia_pacific",
      "fallbacks": [
        {
          "region": "north_america",
          "priority": 1,
          "latencyThreshold": 1500,
          "costMultiplier": 1.8,
          "compliancePriority": false,
          "conditions": ["primary_unhealthy"]
        },
        {
          "region": "europe",
          "priority": 2,
          "latencyThreshold": 2000,
          "costMultiplier": 2.5,
          "compliancePriority": false,
          "conditions": ["all_previous_failed"]
        }
      ]
    }
  },

  "dataSovereigntyRules": {
    "GDPR": {
      "restrictedRegions": ["china", "russia", "iran", "north_korea"],
      "dataLocalizationRequired": true,
      "sovereignProcessingRequired": true,
      "crossBorderTransferRules": {
        "adequacyDecision": true,
        "standardContractualClauses": true,
        "bindingCorporateRules": false
      },
      "retentionLimits": {
        "personalData": 2555,
        "sensitiveData": 2555
      }
    },
    "HIPAA": {
      "restrictedRegions": [],
      "dataLocalizationRequired": false,
      "sovereignProcessingRequired": true,
      "crossBorderTransferRules": {
        "adequacyDecision": false,
        "standardContractualClauses": true,
        "bindingCorporateRules": true
      },
      "retentionLimits": {
        "phi": 2555,
        "medicalRecords": 2555
      }
    },
    "PCI_DSS": {
      "restrictedRegions": ["china", "russia"],
      "dataLocalizationRequired": false,
      "sovereignProcessingRequired": true,
      "crossBorderTransferRules": {
        "adequacyDecision": false,
        "standardContractualClauses": true,
        "bindingCorporateRules": false
      },
      "retentionLimits": {
        "cardholderData": 2555,
        "transactionData": 2555
      }
    }
  },

  "geographicComplianceMatrix": {
    "HIPAA": {
      "north_america": "full",
      "europe": "partial",
      "asia_pacific": "limited",
      "south_america": "limited",
      "africa": "none",
      "global": "none"
    },
    "GDPR": {
      "north_america": "partial",
      "europe": "full",
      "asia_pacific": "partial",
      "south_america": "limited",
      "africa": "limited",
      "global": "limited"
    },
    "SOC2": {
      "north_america": "full",
      "europe": "full",
      "asia_pacific": "full",
      "south_america": "partial",
      "africa": "limited",
      "global": "limited"
    },
    "PCI_DSS": {
      "north_america": "full",
      "europe": "full",
      "asia_pacific": "partial",
      "south_america": "limited",
      "africa": "limited",
      "global": "limited"
    }
  },

  "latencyOptimization": {
    "regionProximity": {
      "enabled": true,
      "prioritizeLocalRegion": true,
      "maxCrossRegionLatency": 1000,
      "fallbackLatencyMultiplier": 1.5
    },
    "timeBasedRouting": {
      "enabled": true,
      "peakHourRegions": {
        "north_america": "09:00-17:00",
        "europe": "08:00-18:00",
        "asia_pacific": "01:00-11:00"
      },
      "offPeakDiscount": 0.8
    },
    "predictiveLatency": {
      "enabled": false,
      "historicalDataWindow": "30d",
      "predictionAccuracy": 0.85
    }
  },

  "networkHealthMonitoring": {
    "enabled": true,
    "checkInterval": 30,
    "healthChecks": [
      {
        "type": "latency",
        "threshold": 1000,
        "samples": 5,
        "timeout": 5000
      },
      {
        "type": "packet_loss",
        "threshold": 0.05,
        "samples": 10,
        "timeout": 10000
      },
      {
        "type": "jitter",
        "threshold": 50,
        "samples": 5,
        "timeout": 5000
      }
    ],
    "failureThreshold": 3,
    "recoveryThreshold": 2,
    "alertThresholds": {
      "degraded": 0.8,
      "critical": 0.95
    }
  },

  "geographicLoadBalancing": {
    "enabled": true,
    "strategy": "weighted_round_robin",
    "weights": {
      "north_america": 0.4,
      "europe": 0.3,
      "asia_pacific": 0.2,
      "south_america": 0.05,
      "africa": 0.05
    },
    "healthBasedAdjustment": true,
    "capacityBasedAdjustment": true,
    "dynamicRebalancing": {
      "enabled": true,
      "interval": 300,
      "threshold": 0.8
    }
  },

  "dataLocalizationRules": {
    "strict": {
      "regions": ["europe"],
      "dataTypes": ["personal", "health", "financial"],
      "processingLocation": "same_region",
      "backupLocation": "same_continent"
    },
    "flexible": {
      "regions": ["north_america", "asia_pacific"],
      "dataTypes": ["internal", "public"],
      "processingLocation": "any_compliant",
      "backupLocation": "any_available"
    },
    "none": {
      "regions": ["south_america", "africa", "global"],
      "dataTypes": ["all"],
      "processingLocation": "any",
      "backupLocation": "any"
    }
  },

  "crossBorderTransferRules": {
    "automatedApproval": {
      "enabled": true,
      "maxDataVolume": 1000000,
      "approvalThreshold": 10000,
      "autoApproveRegions": ["north_america", "europe"]
    },
    "manualApproval": {
      "requiredFor": ["china", "russia", "iran"],
      "approvalTimeout": 86400,
      "escalationRequired": true
    },
    "blockedRegions": ["north_korea", "crimea"],
    "transferMethods": {
      "standardContractualClauses": true,
      "adequacyDecision": true,
      "bindingCorporateRules": false,
      "certification": true
    }
  },

  "regionalCostOptimization": {
    "enabled": true,
    "regionalPricing": {
      "north_america": 1.0,
      "europe": 1.2,
      "asia_pacific": 0.9,
      "south_america": 1.1,
      "africa": 1.3
    },
    "crossRegionCostMultiplier": 1.5,
    "preferredRegions": ["north_america", "europe"],
    "costBasedFailover": true
  },

  "monitoringAndAlerts": {
    "geographicHealth": {
      "enabled": true,
      "alerts": {
        "regionDown": {
          "enabled": true,
          "channels": ["email", "slack"],
          "escalationTime": 300
        },
        "highLatency": {
          "enabled": true,
          "threshold": 2000,
          "channels": ["metrics", "dashboard"]
        },
        "complianceViolation": {
          "enabled": true,
          "channels": ["security", "compliance"],
          "immediate": true
        }
      }
    },
    "dataSovereignty": {
      "auditLogging": true,
      "violationReporting": true,
      "complianceDashboard": true,
      "retention": "7y"
    }
  },

  "_comments": {
    "regions": "Geographic region definitions with compliance and performance data",
    "fallbackChains": "Geographic failover chains with priorities and conditions",
    "dataSovereigntyRules": "Compliance-specific data sovereignty requirements",
    "geographicComplianceMatrix": "Compliance coverage by region and framework",
    "latencyOptimization": "Latency-based routing and optimization rules",
    "networkHealthMonitoring": "Real-time network health monitoring",
    "geographicLoadBalancing": "Load distribution across geographic regions",
    "dataLocalizationRules": "Data storage and processing location rules",
    "crossBorderTransferRules": "International data transfer regulations",
    "regionalCostOptimization": "Cost optimization based on geographic factors",
    "monitoringAndAlerts": "Geographic and compliance monitoring configuration"
  }
}
