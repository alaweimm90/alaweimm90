Deterministic Tests in Express Apps
----------------------------------
- Gate intervals and server listen in test mode.
- Fix randomness: inject seeds or branch by NODE_ENV.
- Avoid time-based flakes: mock Date/Timers.
- Use supertest against app exports (no live server).

