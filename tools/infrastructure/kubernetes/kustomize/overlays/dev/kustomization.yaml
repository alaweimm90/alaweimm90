apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: supertool-dev

# Base configuration
bases:
  - ../../base

# Namespace for dev
namespace: dev

# Common labels for dev
commonLabels:
  environment: dev
  tier: development

# Common annotations
commonAnnotations:
  environment: dev
  managed-by: kustomize

# Image tag for dev
images:
  - name: supertool
    newName: ghcr.io/username/supertool
    newTag: "dev-latest"

# ConfigMap generator for dev-specific config
configMapGenerator:
  - name: supertool-config
    behavior: merge
    literals:
      - NODE_ENV=development
      - LOG_LEVEL=debug
      - ENVIRONMENT=dev
      - DEBUG="*"

# Replica count for dev
replicas:
  - name: supertool
    count: 1

# Patches for dev-specific configurations
patches:
  - path: deployment-patch.yaml
  - path: remove-hpa.yaml
  - path: remove-pdb.yaml
  - path: remove-networkpolicy.yaml
