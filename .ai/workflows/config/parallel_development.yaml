# Parallel Development Workflow
# Execute development tasks in parallel without interruption

name: 'parallel_development_workflow'
description: 'Execute development tasks in parallel without interruption'
version: '1.0'
pattern: 'parallelization'

stages:
  - name: 'background_linting'
    description: 'Run ESLint on all TypeScript files in watch mode'
    parallel: true
    agent: 'automation'
    action: 'Execute linting with ESLint in background watch mode'
    tools: ['linter']
    command: 'npx eslint --ext .ts,.tsx --watch .'
    priority: 'medium'
    timeout_minutes: 0

  - name: 'type_checking'
    description: 'Run TypeScript type checking in watch mode'
    parallel: true
    agent: 'automation'
    action: 'Execute tsc --noEmit --watch for incremental type checking'
    tools: ['static_analyzer']
    command: 'npx tsc --noEmit --watch'
    priority: 'medium'
    timeout_minutes: 0

  - name: 'incremental_build'
    description: 'Run Vite incremental build in watch mode'
    parallel: true
    agent: 'automation'
    action: 'Execute Vite build with hot reloading'
    tools: ['shell_command']
    command: 'npx vite build --watch'
    priority: 'high'
    timeout_minutes: 0

  - name: 'parallel_testing'
    description: 'Run Jest tests in parallel with watch mode'
    parallel: true
    agent: 'automation'
    action: 'Execute Jest with --maxWorkers=4 --watch'
    tools: ['test_runner']
    command: 'npx jest --maxWorkers=4 --watch'
    priority: 'high'
    timeout_minutes: 0

  - name: 'documentation_generation'
    description: 'Generate Sphinx documentation for Python modules'
    parallel: true
    agent: 'automation'
    action: 'Build Sphinx documentation in background'
    tools: ['shell_command']
    command: 'sphinx-build -b html docs/source docs/build'
    priority: 'low'
    timeout_minutes: 30

  - name: 'file_monitoring'
    description: 'Monitor file changes and trigger hot reloading'
    parallel: true
    agent: 'automation'
    action: 'Watch for file changes and coordinate hot reloading'
    tools: ['file_system']
    command: 'nodemon --watch . --ext ts,tsx,js,jsx,py --exec "echo File changed"'
    priority: 'medium'
    timeout_minutes: 0

  - name: 'status_monitoring'
    description: 'Provide status updates every 30 seconds'
    parallel: true
    agent: 'automation'
    action: 'Monitor and report task status periodically'
    tools: ['shell_command']
    command: 'while true; do echo "Status update"; sleep 30; done'
    priority: 'low'
    timeout_minutes: 0

execution:
  parallel_stages: true
  max_workers: 6
  resource_monitoring: true
  auto_approval: true
  telemetry_enabled: true
  status_interval_seconds: 30

error_handling:
  conflict_resolution: 'auto_retry'
  resource_conflict_strategy: 'scale_down'
  process_interruption: 'restart'

success_criteria:
  - 'All parallel stages running without conflicts'
  - 'Resource monitoring active and scaling appropriately'
  - 'Status updates delivered every 30 seconds'
  - 'No task interruptions or deadlocks'
