version: '3.8'

# Testing configuration for CI/CD and local testing
# Usage: docker-compose -f docker-compose.yml -f docker-compose.test.yml up

services:
  simcore:
    command: npm run test
    environment:
      - NODE_ENV=test
      - CI=true

  repz:
    command: npm run test
    environment:
      - NODE_ENV=test
      - CI=true

  benchbarrier:
    command: npm run test
    environment:
      - NODE_ENV=test
      - CI=true

  mag-logic:
    command: pytest /app/tests
    environment:
      - PYTHONPATH=/app
      - TESTING=true

  attributa:
    command: npm run test
    environment:
      - NODE_ENV=test
      - CI=true
